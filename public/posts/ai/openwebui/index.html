<!DOCTYPE html>
<html lang="ko" dir="auto">

<head><script src="/portfolio/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=portfolio/livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>OpenWebUI | RyanLabs</title>
<meta name="keywords" content="OpenWebUI, AI, Ollama, EC2">
<meta name="description" content="내가 설치한 방법
pip install open-webui
open-webui serve &ndash;port 8180
OpenWebUI 내 설정
Web browser URL: http://jonpark-ec2:8180/admin/settings
OpenWebUI 는 ec2에 설치되어 있으므로 http://localhost:11434 를 사용한다.
OpenAI API

Manage OpenAI API Connections

https://api.openai.com/v1
API Key


Ollama API

Manage Ollama API Connections

http://localhost:11434


Trouble accessing Ollama? Click here for help.
Direct Connections

Direct Connections allow users to connect to their own OpenAI compatible API endpoints.

Msty 에서 ec2 에 설치된 Ollama 접속하기
사용하지 말것것.
모든 것을 API key를 통해 처리함.
ChatGPT 경우에도 API key 를 사용하면 별도의 요금이 차감됨.">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/portfolio/posts/ai/openwebui/">
<link crossorigin="anonymous" href="/portfolio/assets/css/stylesheet.6da9a63d25a9608bca2f7f907a030e887a7dd3c3f3918e4cc113129361414bda.css" integrity="sha256-bammPSWpYIvKL3&#43;QegMOiHp908PzkY5MwRMSk2FBS9o=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/portfolio/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/portfolio/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/portfolio/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/portfolio/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/portfolio/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="ko" href="http://localhost:1313/portfolio/posts/ai/openwebui/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/portfolio/" accesskey="h" title="RyanLabs (Alt + H)">RyanLabs</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/portfolio/search/" title="검색">
                    <span>검색</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/portfolio/categories/" title="카테고리">
                    <span>카테고리</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/portfolio/tags/" title="태그">
                    <span>태그</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/portfolio/archives/" title="연도">
                    <span>연도</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/portfolio/lectures/" title="강의">
                    <span>강의</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/portfolio/about/" title="어바웃미">
                    <span>어바웃미</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      OpenWebUI
    </h1>
    <div class="post-meta"><span title='2025-02-19 00:00:00 +0000 UTC'>2월 19, 2025</span>

</div>
  </header> 
  <div class="post-content"><h1 id="내가-설치한-방법">내가 설치한 방법<a hidden class="anchor" aria-hidden="true" href="#내가-설치한-방법">#</a></h1>
<p>pip install open-webui
open-webui serve &ndash;port 8180</p>
<h1 id="openwebui-내-설정">OpenWebUI 내 설정<a hidden class="anchor" aria-hidden="true" href="#openwebui-내-설정">#</a></h1>
<p>Web browser URL: http://jonpark-ec2:8180/admin/settings
OpenWebUI 는 ec2에 설치되어 있으므로 http://localhost:11434 를 사용한다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>OpenAI API
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Manage OpenAI API Connections
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>https://api.openai.com/v1
</span></span><span style="display:flex;"><span>API Key
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Ollama API
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Manage Ollama API Connections
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>http://localhost:11434
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Trouble accessing Ollama? Click here for help.
</span></span><span style="display:flex;"><span>Direct Connections
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Direct Connections allow users to connect to their own OpenAI compatible API endpoints.
</span></span></code></pre></div><hr>
<h1 id="msty-에서-ec2-에-설치된-ollama-접속하기">Msty 에서 ec2 에 설치된 Ollama 접속하기<a hidden class="anchor" aria-hidden="true" href="#msty-에서-ec2-에-설치된-ollama-접속하기">#</a></h1>
<p>사용하지 말것것.
모든 것을 API key를 통해 처리함.
ChatGPT 경우에도 API key 를 사용하면 별도의 요금이 차감됨.</p>
<h3 id="ollama-remote">Ollama remote<a hidden class="anchor" aria-hidden="true" href="#ollama-remote">#</a></h3>
<p>http://jonpark-ec2:11434 로 접속
현재 연결이 되지 않는다.
11434 포트가 열려있는지 확인해야 함.</p>
<hr>
<hr>
<h1 id="아래부터는-모두-참조문서임">아래부터는 모두 참조문서임.<a hidden class="anchor" aria-hidden="true" href="#아래부터는-모두-참조문서임">#</a></h1>
<hr>
<h1 id="ollama-모델을-gui로-관리할-수-있는-도구들">Ollama 모델을 GUI로 관리할 수 있는 도구들<a hidden class="anchor" aria-hidden="true" href="#ollama-모델을-gui로-관리할-수-있는-도구들">#</a></h1>
<p>Ollama 모델을 GUI로 관리할 수 있는 몇 가지 도구들을 추천해드리겠습니다:</p>
<ol>
<li>OpenWebUI (<a href="https://github.com/open-webui/open-webui">https://github.com/open-webui/open-webui</a>)</li>
</ol>
<ul>
<li>Ollama를 위해 특별히 설계된 웹 인터페이스</li>
<li>Docker로 쉽게 설치 가능</li>
<li>모델 관리, 채팅 인터페이스, 프롬프트 관리 등 제공</li>
<li>설치 명령어:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker run -d -p 3000:8080 -v open-webui:/app/backend/data -e OLLAMA_API_BASE_URL<span style="color:#f92672">=</span>http://host.docker.internal:11434/api --name open-webui --add-host<span style="color:#f92672">=</span>host.docker.internal:host-gateway ghcr.io/open-webui/open-webui:main
</span></span></code></pre></div><ol start="2">
<li>OllamaWeb (<a href="https://github.com/ollama-webui/ollama-webui">https://github.com/ollama-webui/ollama-webui</a>)</li>
</ol>
<ul>
<li>직관적인 웹 기반 GUI 제공</li>
<li>모델 다운로드/삭제, 대화 기록 관리</li>
<li>다중 모델 대화 지원</li>
<li>Docker 설치 명령어:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker run -d -p 8080:8080 --add-host<span style="color:#f92672">=</span>host.docker.internal:host-gateway -v ollama-webui:/app/backend/data --name ollama-webui --restart always ghcr.io/ollama-webui/ollama-webui:main
</span></span></code></pre></div><ol start="3">
<li>Ollama-UI (<a href="https://github.com/ollama-ui/ollama-ui">https://github.com/ollama-ui/ollama-ui</a>)</li>
</ol>
<ul>
<li>경량화된 웹 인터페이스</li>
<li>기본적인 모델 관리 기능 제공</li>
<li>Next.js 기반으로 구현</li>
</ul>
<p>이 중에서 OpenWebUI가 가장 활발하게 개발되고 있으며, 기능도 풍부해서 추천드립니다. EC2에서 사용하실 때는 보안그룹에서 해당 포트(3000 또는 8080)를 열어주셔야 합니다.</p>
<p>이러한 도구들을 설치하실 때 주의할 점이 있다면, EC2 인스턴스의 메모리와 CPU 사양을 고려하셔야 합니다. GUI 도구와 Ollama 모델이 동시에 실행되므로, 적절한 리소스가 필요합니다.</p>
<hr>
<h1 id="open-webui-설치">Open WebUI 설치<a hidden class="anchor" aria-hidden="true" href="#open-webui-설치">#</a></h1>
<p>EC2 Ubuntu에 OpenWebUI를 설치하고 외부 접속을 설정하는 과정을 단계별로 알려드리겠습니다:</p>
<ol>
<li>EC2의 보안 그룹 설정</li>
</ol>
<pre tabindex="0"><code>1. AWS Console에 로그인
2. EC2 대시보드 접속
3. 해당 인스턴스의 보안 그룹 선택
4. &#34;인바운드 규칙 편집&#34; 클릭
5. &#34;규칙 추가&#34; 클릭
6. 다음 설정 입력:
   - 포트 범위: 8180
   - 소스: 0.0.0.0/0 (모든 IP에서 접근 허용) 
   - 설명: OpenWebUI access
7. &#34;규칙 저장&#34; 클릭
</code></pre><ol start="2">
<li>Docker 설치 (아직 설치되지 않은 경우)</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt-get update
</span></span><span style="display:flex;"><span>sudo apt-get install docker.io -y
</span></span><span style="display:flex;"><span>sudo systemctl start docker
</span></span><span style="display:flex;"><span>sudo systemctl enable docker
</span></span><span style="display:flex;"><span>sudo usermod -aG docker $USER
</span></span></code></pre></div><p>설치 후 로그아웃했다가 다시 로그인하면 docker 권한이 적용됩니다.</p>
<ol start="3">
<li>OpenWebUI 설치 및 실행</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 기존 컨테이너가 있다면 제거</span>
</span></span><span style="display:flex;"><span>docker rm -f open-webui
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># OpenWebUI 실행</span>
</span></span><span style="display:flex;"><span>docker run -d <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -p 8180:8080 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -v open-webui:/app/backend/data <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -e OLLAMA_API_BASE_URL<span style="color:#f92672">=</span>http://host.docker.internal:11434/api <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --name open-webui <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --add-host<span style="color:#f92672">=</span>host.docker.internal:host-gateway <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  ghcr.io/open-webui/open-webui:main
</span></span></code></pre></div><ol start="4">
<li>설치 확인</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 컨테이너 실행 상태 확인</span>
</span></span><span style="display:flex;"><span>docker ps
</span></span></code></pre></div><ol start="5">
<li>접속 방법</li>
</ol>
<ul>
<li>브라우저에서 다음 주소로 접속:</li>
</ul>
<pre tabindex="0"><code>http://[EC2_PUBLIC_IP]:8180
</code></pre><p>여기서 [EC2_PUBLIC_IP]는 EC2 인스턴스의 퍼블릭 IP 주소입니다.</p>
<p>주의사항:</p>
<ol>
<li>EC2 인스턴스의 퍼블릭 IP가 변경될 수 있으므로, 고정 IP(Elastic IP)를 사용하는 것을 권장합니다.</li>
<li>보안을 위해 접속 IP를 제한하는 것이 좋습니다(보안그룹에서 특정 IP만 허용).</li>
<li>OpenWebUI가 정상적으로 작동하려면 Ollama가 먼저 설치되어 실행 중이어야 합니다.</li>
</ol>
<p>문제 해결:</p>
<ul>
<li>
<p>접속이 안 되는 경우:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 로그 확인</span>
</span></span><span style="display:flex;"><span>docker logs open-webui
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 컨테이너 상태 확인</span>
</span></span><span style="display:flex;"><span>docker ps
</span></span></code></pre></div></li>
<li>
<p>컨테이너 재시작이 필요한 경우:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker restart open-webui
</span></span></code></pre></div></li>
</ul>
<p>필요하신 경우 추가적인 설정이나 문제 해결 방법을 알려드리겠습니다.</p>
<h1 id="open-webui-에서-사용하는-volume">Open WebUI 에서 사용하는 Volume<a hidden class="anchor" aria-hidden="true" href="#open-webui-에서-사용하는-volume">#</a></h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~/workspace/dockers$ docker inspect -f <span style="color:#e6db74">&#39;{{ json .Mounts }}&#39;</span> open-webui  | jq
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Type&#34;</span>: <span style="color:#e6db74">&#34;volume&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Name&#34;</span>: <span style="color:#e6db74">&#34;open-webui&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Source&#34;</span>: <span style="color:#e6db74">&#34;/var/lib/docker/volumes/open-webui/_data&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Destination&#34;</span>: <span style="color:#e6db74">&#34;/app/backend/data&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Driver&#34;</span>: <span style="color:#e6db74">&#34;local&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Mode&#34;</span>: <span style="color:#e6db74">&#34;z&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;RW&#34;</span>: true,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Propagation&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">]</span>
</span></span></code></pre></div><h1 id="삭제하기">삭제하기<a hidden class="anchor" aria-hidden="true" href="#삭제하기">#</a></h1>
<p>open-webui 관련 리소스를 삭제하는 전체 과정을 상태 확인과 함께 알려드리겠습니다:</p>
<ol>
<li>현재 상태 확인</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 실행 중인 컨테이너 확인</span>
</span></span><span style="display:flex;"><span>docker ps
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 모든 컨테이너 확인 (중지된 것 포함)</span>
</span></span><span style="display:flex;"><span>docker ps -a
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 이미지 확인</span>
</span></span><span style="display:flex;"><span>docker images
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 볼륨 확인</span>
</span></span><span style="display:flex;"><span>docker volume ls
</span></span></code></pre></div><ol start="2">
<li>리소스 삭제</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 컨테이너 중지 및 삭제</span>
</span></span><span style="display:flex;"><span>docker stop open-webui
</span></span><span style="display:flex;"><span>docker rm open-webui
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 연관된 볼륨 삭제</span>
</span></span><span style="display:flex;"><span>docker volume rm open-webui
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 이미지 삭제</span>
</span></span><span style="display:flex;"><span>docker rmi ghcr.io/open-webui/open-webui:main
</span></span></code></pre></div><ol start="3">
<li>삭제 후 상태 확인</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 컨테이너 확인 (open-webui가 없어야 함)</span>
</span></span><span style="display:flex;"><span>docker ps -a | grep open-webui
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 이미지 확인 (open-webui 이미지가 없어야 함)</span>
</span></span><span style="display:flex;"><span>docker images | grep open-webui
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 볼륨 확인 (open-webui 볼륨이 없어야 함)</span>
</span></span><span style="display:flex;"><span>docker volume ls | grep open-webui
</span></span></code></pre></div><p>한 번에 실행할 수 있는 전체 스크립트:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 삭제 전 상태 확인</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;=== 삭제 전 상태 ===&#34;</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;컨테이너 목록:&#34;</span>
</span></span><span style="display:flex;"><span>docker ps -a
</span></span><span style="display:flex;"><span>echo -e <span style="color:#e6db74">&#34;\n이미지 목록:&#34;</span>
</span></span><span style="display:flex;"><span>docker images
</span></span><span style="display:flex;"><span>echo -e <span style="color:#e6db74">&#34;\n볼륨 목록:&#34;</span>
</span></span><span style="display:flex;"><span>docker volume ls
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 리소스 삭제</span>
</span></span><span style="display:flex;"><span>echo -e <span style="color:#e6db74">&#34;\n=== 리소스 삭제 중 ===&#34;</span>
</span></span><span style="display:flex;"><span>docker stop open-webui
</span></span><span style="display:flex;"><span>docker rm open-webui
</span></span><span style="display:flex;"><span>docker volume rm open-webui
</span></span><span style="display:flex;"><span>docker rmi ghcr.io/open-webui/open-webui:main
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 삭제 후 상태 확인</span>
</span></span><span style="display:flex;"><span>echo -e <span style="color:#e6db74">&#34;\n=== 삭제 후 상태 ===&#34;</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;컨테이너 목록:&#34;</span>
</span></span><span style="display:flex;"><span>docker ps -a
</span></span><span style="display:flex;"><span>echo -e <span style="color:#e6db74">&#34;\n이미지 목록:&#34;</span>
</span></span><span style="display:flex;"><span>docker images
</span></span><span style="display:flex;"><span>echo -e <span style="color:#e6db74">&#34;\n볼륨 목록:&#34;</span>
</span></span><span style="display:flex;"><span>docker volume ls
</span></span></code></pre></div><p>이렇게 하면 삭제 전후의 상태를 명확하게 확인할 수 있으며, open-webui 관련 리소스만 선택적으로 삭제됩니다.</p>
<hr>
<h1 id="command-list">Command list<a hidden class="anchor" aria-hidden="true" href="#command-list">#</a></h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker restart open-webui 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>또는 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>cd ~/workspace/dockers
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker stop open-webui
</span></span><span style="display:flex;"><span>docker rm open-webui
</span></span><span style="display:flex;"><span>docker volume rm open-webui
</span></span><span style="display:flex;"><span><span style="color:#75715e"># sudo rm -rf open-webui/*</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker run -d <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -p 8180:8080 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -v <span style="color:#66d9ef">$(</span>pwd<span style="color:#66d9ef">)</span>/open-webui:/app/backend/data <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -e OLLAMA_BASE_URL<span style="color:#f92672">=</span>http://172.31.26.173:11434/api <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --name open-webui <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --add-host<span style="color:#f92672">=</span>host.docker.internal:host-gateway <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  ghcr.io/open-webui/open-webui:main
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker logs -f open-webui
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>curl http://localhost:11434/api/tags
</span></span><span style="display:flex;"><span>curl http://host.docker.internal:11434/api/tags
</span></span></code></pre></div><hr>
<h1 id="history">history<a hidden class="anchor" aria-hidden="true" href="#history">#</a></h1>
<p>1354  docker run -d   -p 8180:8080   -v $(pwd)/open-webui:/app/backend/data   -e OLLAMA_API_BASE_URL=http://host.docker.internal:11434/api   &ndash;name open-webui   &ndash;add-host=host.docker.internal:host-gateway   ghcr.io/open-webui/open-webui:main
1355  tree
1356  docker volume ls
1357  docker ps
1358  sudo systemctl status ollama
1359  sudo vim /etc/systemd/system/ollama.service
1360  cat /etc/systemd/system/ollama.service
1361  sudo systemctl daemon-reload
1362  sudo systemctl restart ollama
1363  docker stop open-webui
1364  docker rm open-webui
1365  docker run -d   -p 8180:8080   -v $(pwd)/open-webui:/app/backend/data   -e OLLAMA_API_BASE_URL=http://host.docker.internal:11434/api   &ndash;name open-webui   &ndash;add-host=host.docker.internal:host-gateway   ghcr.io/open-webui/open-webui:main
1366  vim ~/.ollama/daemon.json
1367  cat ~/.ollama/daemon.json
1368  docker stop open-webui
1369  docker rm open-webui
1370  docker run -d   -p 8180:8080   -v $(pwd)/open-webui:/app/backend/data   -e OLLAMA_API_BASE_URL=http://host.docker.internal:11434/api   &ndash;name open-webui   &ndash;add-host=host.docker.internal:host-gateway   ghcr.io/open-webui/open-webui:main
1371  systemctl status ollama
1372  sudo systemctl status ollama
1373  sudo journalctl -u ollama
1374  cat /etc/systemd/system/ollama.service
1375  sudo systemctl status ollama
1376  sudo systemctl statop ollama
1377  sudo systemctl stop ollama
1378  sudo vim  /etc/systemd/system/ollama.service
1379  sudo systemctl start ollama
1380  sudo systemctl daemon-reload
1381  sudo systemctl start ollama
1382  sudo systemctl status ollama
1383  ollama list
1384  cat  /etc/systemd/system/ollama.service
1385  sudo vim  /etc/systemd/system/ollama.service
1386  sudo systemctl daemon-reload
1387  sudo systemctl restart ollama
1388  sudo systemctl status ollama
1389  ollama list
1390  sudo vim  /etc/systemd/system/ollama.service
1391  docker restart open-webui
1392  sudo vim  /etc/systemd/system/ollama.service
1393  sudo systemctl daemon-reload
1394  sudo systemctl restart ollama
1395  ollama list
1396  sudo systemctl status ollama
1397  ollama list
1398  docker ps
1399  docker restart open-webui
1400  df -h
1401  docker restart open-webui
1402  curl http://localhost:11434/api/tags</p>
<p>(base) ubuntu@ip-172-31-26-173:~/workspace/dockers$ docker restart open-webui
open-webui</p>
<p>(base) ubuntu@ip-172-31-26-173:~/workspace/dockers$ curl http://localhost:11434/api/tags</p>
<h1 id="ollama-api-url-설정">Ollama API URL 설정<a hidden class="anchor" aria-hidden="true" href="#ollama-api-url-설정">#</a></h1>
<p>제공하신 Docker 명령어는 대체로 올바르지만, Ollama API URL 설정에 약간의 수정이 필요합니다. 로컬에 설치된 Ollama와 Docker 컨테이너로 실행되는 OpenWebUI를 연결하기 위해서는 다음과 같이 수정해야 합니다:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker run -d <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -p 8180:8080 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -v /home/ubuntu/workspace/dockers/open-webui:/app/backend/data <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -e OLLAMA_API_BASE_URL<span style="color:#f92672">=</span>http://host.docker.internal:11434 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --name open-webui <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --add-host<span style="color:#f92672">=</span>host.docker.internal:host-gateway <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  ghcr.io/open-webui/open-webui:main
</span></span></code></pre></div><p>주요 변경 사항:</p>
<ol>
<li>
<p><code>OLLAMA_API_BASE_URL</code> 환경 변수를 <code>http://host.docker.internal:11434</code>로 설정했습니다. 이는 Docker 컨테이너 내에서 호스트 시스템의 Ollama API에 접근하기 위한 특별한 DNS 이름입니다[1][5].</p>
</li>
<li>
<p>URL 끝의 <code>/api</code>를 제거했습니다. Ollama API의 기본 URL은 일반적으로 포트 번호까지만 포함합니다[2][4].</p>
</li>
</ol>
<p>이 설정을 사용하면 OpenWebUI Docker 컨테이너가 호스트 시스템에서 실행 중인 Ollama API와 올바르게 통신할 수 있습니다. <code>--add-host=host.docker.internal:host-gateway</code> 옵션은 이미 포함되어 있어 Docker 컨테이너가 호스트 시스템의 서비스에 접근할 수 있도록 합니다[1][5].</p>
<p>만약 이 설정으로도 연결이 되지 않는다면, Ollama가 모든 네트워크 인터페이스에서 요청을 수신하도록 설정되어 있는지 확인해보세요. Ollama 서비스 파일에서 <code>--host 0.0.0.0</code> 옵션을 추가하는 것이 도움될 수 있습니다[1][3].</p>
<hr>
<h1 id="openwebui-설정---qwen">OpenWebUI 설정 - qwen<a hidden class="anchor" aria-hidden="true" href="#openwebui-설정---qwen">#</a></h1>
<p>OpenWebUI를 Docker로 설치하고 EC2 Linux에 로컬로 설치된 Ollama 모델을 연결하는 과정을 단계별로 설명하겠습니다. 이 작업은 OpenWebUI와 Ollama가 서로 통신할 수 있도록 설정하는 것이 핵심입니다.</p>
<hr>
<h3 id="1-사전-준비"><strong>1. 사전 준비</strong><a hidden class="anchor" aria-hidden="true" href="#1-사전-준비">#</a></h3>
<h4 id="11-ec2-인스턴스-확인"><strong>1.1. EC2 인스턴스 확인</strong><a hidden class="anchor" aria-hidden="true" href="#11-ec2-인스턴스-확인">#</a></h4>
<ul>
<li>EC2 인스턴스가 실행 중인지 확인합니다.</li>
<li><code>ollama</code>가 이미 설치되어 있고, 모델이 로컬에서 사용 가능해야 합니다.
<ul>
<li>테스트: <code>ollama list</code> 명령어를 통해 모델 목록을 확인합니다.</li>
</ul>
</li>
<li>필요한 포트가 열려 있는지 확인합니다.
<ul>
<li>기본적으로 Ollama는 <code>11434</code> 포트를 사용합니다.</li>
<li>OpenWebUI는 Docker 컨테이너 내에서 실행되며, 외부에서 접근 가능한 포트를 설정해야 합니다.</li>
</ul>
</li>
</ul>
<h4 id="12-docker-설치"><strong>1.2. Docker 설치</strong><a hidden class="anchor" aria-hidden="true" href="#12-docker-설치">#</a></h4>
<p>EC2 인스턴스에 Docker가 설치되어 있지 않다면 다음 명령어를 사용하여 설치합니다:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo yum update -y
</span></span><span style="display:flex;"><span>sudo yum install -y docker
</span></span><span style="display:flex;"><span>sudo systemctl start docker
</span></span><span style="display:flex;"><span>sudo systemctl enable docker
</span></span></code></pre></div><p>Docker가 정상적으로 설치되었는지 확인:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker --version
</span></span></code></pre></div><hr>
<h3 id="2-openwebui-docker-설치"><strong>2. OpenWebUI Docker 설치</strong><a hidden class="anchor" aria-hidden="true" href="#2-openwebui-docker-설치">#</a></h3>
<p>OpenWebUI를 Docker로 설치하려면 다음 단계를 따릅니다.</p>
<h4 id="21-docker-네트워크-생성"><strong>2.1. Docker 네트워크 생성</strong><a hidden class="anchor" aria-hidden="true" href="#21-docker-네트워크-생성">#</a></h4>
<p>Ollama와 OpenWebUI가 동일한 네트워크에서 통신할 수 있도록 Docker 네트워크를 생성합니다:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker network create openwebui-net
</span></span></code></pre></div><h4 id="22-openwebui-docker-컨테이너-실행"><strong>2.2. OpenWebUI Docker 컨테이너 실행</strong><a hidden class="anchor" aria-hidden="true" href="#22-openwebui-docker-컨테이너-실행">#</a></h4>
<p>다음 명령어를 사용하여 OpenWebUI를 실행합니다. 여기서 중요한 점은 Ollama의 API 주소를 올바르게 설정하는 것입니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker run -d <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --name openwebui <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --network openwebui-net <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -p 3000:8080 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -e OLLAMA_BASE_URL<span style="color:#f92672">=</span>http://host.docker.internal:11434 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  ghcr.io/open-webui/open-webui:main
</span></span></code></pre></div><ul>
<li><code>-p 3000:8080</code>: OpenWebUI를 외부에서 접근할 수 있도록 포트 매핑합니다. (호스트의 3000번 포트 → 컨테이너의 8080번 포트)</li>
<li><code>-e OLLAMA_BASE_URL=http://host.docker.internal:11434</code>: Ollama의 API 주소를 지정합니다. <code>host.docker.internal</code>은 Docker Desktop 환경에서만 작동하며, Linux에서는 다른 방법으로 설정해야 합니다.</li>
</ul>
<hr>
<h3 id="3-ollama와-openwebui-연결"><strong>3. Ollama와 OpenWebUI 연결</strong><a hidden class="anchor" aria-hidden="true" href="#3-ollama와-openwebui-연결">#</a></h3>
<p>Linux 환경에서는 <code>host.docker.internal</code>이 지원되지 않으므로, Ollama의 API 주소를 EC2 인스턴스의 실제 IP 주소로 설정해야 합니다.</p>
<h4 id="31-ec2-인스턴스의-ip-주소-확인"><strong>3.1. EC2 인스턴스의 IP 주소 확인</strong><a hidden class="anchor" aria-hidden="true" href="#31-ec2-인스턴스의-ip-주소-확인">#</a></h4>
<p>EC2 인스턴스의 프라이빗 IP 주소를 확인합니다:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>hostname -I
</span></span></code></pre></div><p>예시 출력: <code>172.31.16.15</code></p>
<h4 id="32-openwebui-환경-변수-수정"><strong>3.2. OpenWebUI 환경 변수 수정</strong><a hidden class="anchor" aria-hidden="true" href="#32-openwebui-환경-변수-수정">#</a></h4>
<p>위에서 확인한 IP 주소를 사용하여 <code>OLLAMA_BASE_URL</code>을 설정합니다:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker run -d <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --name openwebui <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --network openwebui-net <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -p 3000:8080 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -e OLLAMA_BASE_URL<span style="color:#f92672">=</span>http://&lt;EC2_PRIVATE_IP&gt;:11434 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  ghcr.io/open-webui/open-webui:main
</span></span></code></pre></div><ul>
<li><code>&lt;EC2_PRIVATE_IP&gt;</code>를 실제 EC2 인스턴스의 프라이빗 IP로 대체합니다.</li>
</ul>
<hr>
<h3 id="4-방화벽-및-보안-그룹-설정"><strong>4. 방화벽 및 보안 그룹 설정</strong><a hidden class="anchor" aria-hidden="true" href="#4-방화벽-및-보안-그룹-설정">#</a></h3>
<p>EC2 인스턴스의 보안 그룹과 Linux 방화벽에서 필요한 포트를 열어야 합니다.</p>
<h4 id="41-보안-그룹-설정"><strong>4.1. 보안 그룹 설정</strong><a hidden class="anchor" aria-hidden="true" href="#41-보안-그룹-설정">#</a></h4>
<p>AWS 관리 콘솔에서 EC2 인스턴스의 보안 그룹을 수정하여 다음 규칙을 추가합니다:</p>
<ul>
<li><strong>HTTP 트래픽</strong>: 포트 <code>3000</code> (OpenWebUI) 허용</li>
<li><strong>Custom TCP</strong>: 포트 <code>11434</code> (Ollama API) 허용</li>
</ul>
<h4 id="42-linux-방화벽-설정"><strong>4.2. Linux 방화벽 설정</strong><a hidden class="anchor" aria-hidden="true" href="#42-linux-방화벽-설정">#</a></h4>
<p>Linux 방화벽이 활성화되어 있다면, 다음 명령어를 사용하여 포트를 엽니다:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo firewall-cmd --add-port<span style="color:#f92672">=</span>3000/tcp --permanent
</span></span><span style="display:flex;"><span>sudo firewall-cmd --add-port<span style="color:#f92672">=</span>11434/tcp --permanent
</span></span><span style="display:flex;"><span>sudo firewall-cmd --reload
</span></span></code></pre></div><hr>
<h3 id="5-openwebui-접속-및-테스트"><strong>5. OpenWebUI 접속 및 테스트</strong><a hidden class="anchor" aria-hidden="true" href="#5-openwebui-접속-및-테스트">#</a></h3>
<p>브라우저에서 OpenWebUI에 접속합니다:</p>
<pre tabindex="0"><code>http://&lt;EC2_PUBLIC_IP&gt;:3000
</code></pre><ul>
<li><code>&lt;EC2_PUBLIC_IP&gt;</code>는 EC2 인스턴스의 공인 IP 주소입니다.</li>
</ul>
<p>접속 후, Ollama 모델이 정상적으로 표시되는지 확인합니다. 만약 모델이 보이지 않는다면, 다음과 같은 문제를 점검하세요:</p>
<ol>
<li><code>OLLAMA_BASE_URL</code>이 올바르게 설정되었는지 확인.</li>
<li>Ollama 서비스가 실행 중인지 확인 (<code>systemctl status ollama</code>).</li>
<li>EC2 보안 그룹 및 방화벽 설정이 올바른지 확인.</li>
</ol>
<hr>
<h3 id="6-기타-팁"><strong>6. 기타 팁</strong><a hidden class="anchor" aria-hidden="true" href="#6-기타-팁">#</a></h3>
<ul>
<li><strong>로그 확인</strong>: 문제가 발생하면 OpenWebUI와 Ollama의 로그를 확인합니다.
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker logs openwebui
</span></span></code></pre></div></li>
<li><strong>업데이트</strong>: 최신 버전의 OpenWebUI와 Ollama를 사용하는지 확인합니다.</li>
</ul>
<p>이 과정을 따라하면 OpenWebUI와 Ollama를 성공적으로 연결할 수 있을 것입니다. 추가 질문이 있다면 언제든지 말씀해주세요!</p>
<h1 id="openwebui-설정---perplexity">OpenWebUI 설정 - perplexity<a hidden class="anchor" aria-hidden="true" href="#openwebui-설정---perplexity">#</a></h1>
<p>OpenWebUI 설정을 확인하고 수정하는 과정을 좀 더 자세히 설명해드리겠습니다:</p>
<h2 id="openwebui-설정-확인-및-수정">OpenWebUI 설정 확인 및 수정<a hidden class="anchor" aria-hidden="true" href="#openwebui-설정-확인-및-수정">#</a></h2>
<ol>
<li>
<p>OpenWebUI 접속</p>
<ul>
<li>웹 브라우저를 열고 <code>http://[EC2_PUBLIC_IP]:8180</code> 주소로 접속합니다.</li>
<li>로그인 후 대시보드에 진입합니다.</li>
</ul>
</li>
<li>
<p>설정 메뉴 접근</p>
<ul>
<li>화면 좌측 하단의 사용자 이름을 클릭합니다.</li>
<li>드롭다운 메뉴에서 &ldquo;Settings&rdquo; 또는 &ldquo;설정&quot;을 선택합니다.</li>
</ul>
</li>
<li>
<p>Ollama API 설정 확인</p>
<ul>
<li>설정 페이지에서 &ldquo;Ollama API&rdquo; 또는 &ldquo;API 설정&rdquo; 섹션을 찾습니다.</li>
<li>&ldquo;Ollama API Base URL&rdquo; 항목을 확인합니다.</li>
</ul>
</li>
<li>
<p>API 주소 수정</p>
<ul>
<li>현재 설정된 주소가 <code>http://localhost:11434</code> 또는 <code>http://127.0.0.1:11434</code>인 경우, EC2 인스턴스의 프라이빗 IP 주소로 변경해야 합니다.</li>
<li>주소를 <code>http://[EC2_PRIVATE_IP]:11434</code>로 수정합니다. 예: <code>http://172.31.X.X:11434</code></li>
</ul>
</li>
<li>
<p>설정 저장</p>
<ul>
<li>변경사항을 저장하기 위해 &ldquo;Save&rdquo; 또는 &ldquo;저장&rdquo; 버튼을 클릭합니다.</li>
</ul>
</li>
<li>
<p>OpenWebUI 재시작</p>
<ul>
<li>설정 변경 후 OpenWebUI를 재시작하는 것이 좋습니다. SSH로 EC2 인스턴스에 접속하여 다음 명령어를 실행합니다:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker restart open-webui
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p>연결 테스트</p>
<ul>
<li>설정을 저장하고 OpenWebUI를 재시작한 후, 대시보드로 돌아가 모델 목록이 정상적으로 표시되는지 확인합니다.</li>
<li>새로운 채팅을 시작하여 Ollama 모델과의 통신이 정상적으로 이루어지는지 테스트합니다.</li>
</ul>
</li>
</ol>
<p>이 과정을 통해 OpenWebUI가 EC2 인스턴스에서 실행 중인 Ollama API와 올바르게 통신할 수 있도록 설정할 수 있습니다. 만약 여전히 문제가 발생한다면, EC2 인스턴스의 보안 그룹 설정에서 11434 포트(Ollama API용)가 내부 네트워크에서 접근 가능하도록 열려있는지 확인해보세요[1][5].</p>
<hr>
<h1 id="pip를-통한-설치---perplexity---잘-동작함">Pip를 통한 설치 - perplexity - 잘 동작함.<a hidden class="anchor" aria-hidden="true" href="#pip를-통한-설치---perplexity---잘-동작함">#</a></h1>
<p>EC2 Ubuntu에서 OpenWebUI를 pip를 이용해 설치하고 8180 포트로 설정하는 방법은 다음과 같습니다:</p>
<h2 id="1-python-환경-확인">1. Python 환경 확인<a hidden class="anchor" aria-hidden="true" href="#1-python-환경-확인">#</a></h2>
<p>OpenWebUI는 Python 3.11 버전을 요구합니다. 먼저 Python 버전을 확인하세요:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python3 --version
</span></span></code></pre></div><p>만약 3.11 버전이 아니라면, 먼저 Python 3.11을 설치해야 합니다.</p>
<h2 id="2-openwebui-설치">2. OpenWebUI 설치<a hidden class="anchor" aria-hidden="true" href="#2-openwebui-설치">#</a></h2>
<p>pip를 사용하여 OpenWebUI를 설치합니다:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip install open-webui
</span></span></code></pre></div><h2 id="3-openwebui-실행">3. OpenWebUI 실행<a hidden class="anchor" aria-hidden="true" href="#3-openwebui-실행">#</a></h2>
<p>OpenWebUI를 8180 포트로 실행하기 위해 다음 명령어를 사용합니다:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>open-webui serve --port <span style="color:#ae81ff">8180</span>
</span></span></code></pre></div><h2 id="4-ollama-api-연결-설정">4. Ollama API 연결 설정<a hidden class="anchor" aria-hidden="true" href="#4-ollama-api-연결-설정">#</a></h2>
<p>Ollama가 이미 실행 중이므로, OpenWebUI가 Ollama API와 통신할 수 있도록 환경 변수를 설정해야 합니다. 다음 명령어를 실행하기 전에 환경 변수를 설정합니다:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>export OLLAMA_API_BASE_URL<span style="color:#f92672">=</span>http://localhost:11434
</span></span></code></pre></div><h2 id="5-방화벽-설정">5. 방화벽 설정<a hidden class="anchor" aria-hidden="true" href="#5-방화벽-설정">#</a></h2>
<p>EC2 인스턴스의 보안 그룹에서 8180 포트에 대한 인바운드 트래픽을 허용해야 합니다. AWS 콘솔에서 EC2 인스턴스의 보안 그룹을 수정하여 8180 포트를 열어주세요.</p>
<h2 id="6-서비스-등록-선택사항">6. 서비스 등록 (선택사항)<a hidden class="anchor" aria-hidden="true" href="#6-서비스-등록-선택사항">#</a></h2>
<p>OpenWebUI를 백그라운드 서비스로 실행하려면, 시스템 서비스로 등록할 수 있습니다. 다음과 같이 서비스 파일을 생성합니다:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo nano /etc/systemd/system/openwebui.service
</span></span></code></pre></div><p>파일에 다음 내용을 추가합니다:</p>
<pre tabindex="0"><code>[Unit]
Description=OpenWebUI Service
After=network.target

[Service]
ExecStart=/usr/local/bin/open-webui serve --port 8180
Environment=&#34;OLLAMA_API_BASE_URL=http://localhost:11434&#34;
User=ubuntu
Restart=always

[Install]
WantedBy=multi-user.target
</code></pre><p>서비스를 활성화하고 시작합니다:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo systemctl enable openwebui
</span></span><span style="display:flex;"><span>sudo systemctl start openwebui
</span></span></code></pre></div><p>이제 EC2 인스턴스의 공개 IP 주소와 8180 포트를 사용하여 웹 브라우저에서 OpenWebUI에 접속할 수 있습니다: <code>http://:8180</code></p>
<hr>
<h2 id="데이타베이스">데이타베이스<a hidden class="anchor" aria-hidden="true" href="#데이타베이스">#</a></h2>
<p>pip install open-webui로 설치한 경우에도 Open WebUI는 데이터베이스를 사용합니다.</p>
<p>Open WebUI는 기본적으로 SQLite 데이터베이스를 사용하여 채팅 기록, 설정 등의 데이터를 저장합니다[4][8]. 이 데이터베이스 파일은 일반적으로 &lsquo;webui.db&rsquo;라는 이름으로 저장됩니다[2].</p>
<p>데이터베이스 및 기타 데이터 파일의 저장 위치는 설치 방법과 환경에 따라 다를 수 있습니다. 일반적으로 다음과 같은 위치에 저장됩니다:</p>
<ol>
<li>Python 가상 환경을 사용한 경우: &ldquo;.venv/Lib/site-packages/data&rdquo; 디렉토리[8]</li>
<li>시스템 Python을 사용한 경우: Python 패키지 저장소 내의 &lsquo;site-packages&rsquo; 디렉토리[2]</li>
</ol>
<p>정확한 위치를 확인하려면 Python REPL에서 Open WebUI 모듈을 임포트하고 데이터 디렉토리 경로를 출력해보는 것이 도움이 될 수 있습니다[8].</p>
<p>따라서 pip install open-webui로 설치한 경우에도 데이터베이스를 사용하며, 이는 로컬 파일 시스템에 저장됩니다.</p>
<h1 id="서비스-등록">서비스 등록<a hidden class="anchor" aria-hidden="true" href="#서비스-등록">#</a></h1>
<h2 id="내가-해결한-방법">내가 해결한 방법<a hidden class="anchor" aria-hidden="true" href="#내가-해결한-방법">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ sudo vim /etc/systemd/system/open-webui.service
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ ls /home/ubuntu/.local/bin/
</span></span><span style="display:flex;"><span>nvisel  nvitop
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ whereis open-webui
</span></span><span style="display:flex;"><span>open-webui: /opt/dlami/nvme/miniconda3/bin/open-webui
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ ^C
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ sudo vim /etc/systemd/system/open-webui.service
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ ^C
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ sudo vim /etc/systemd/system/open-webui.service
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ cat /etc/systemd/system/open-webui.service
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>Unit<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Description<span style="color:#f92672">=</span>Open WebUI Service
</span></span><span style="display:flex;"><span>After<span style="color:#f92672">=</span>network.target
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>Service<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>ExecStart<span style="color:#f92672">=</span>/home/ubuntu/workspace/miniconda3/bin/open-webui serve --port <span style="color:#ae81ff">8180</span>
</span></span><span style="display:flex;"><span>User<span style="color:#f92672">=</span>ubuntu
</span></span><span style="display:flex;"><span>Restart<span style="color:#f92672">=</span>always
</span></span><span style="display:flex;"><span>Environment<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;OLLAMA_API_BASE_URL=http://localhost:11434&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>Install<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>WantedBy<span style="color:#f92672">=</span>multi-user.target
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ ps aux | grep <span style="color:#e6db74">&#34;open-webui&#34;</span>
</span></span><span style="display:flex;"><span>ubuntu    <span style="color:#ae81ff">963357</span>  0.0  0.0   <span style="color:#ae81ff">7004</span>  <span style="color:#ae81ff">2432</span> pts/2    S+   11:05   0:00 grep --color<span style="color:#f92672">=</span>auto open-webui
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ sudo vim /etc/systemd/system/open-webui.service
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ sudo systemctl daemon-reload
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ sudo systemctl start open-webui
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ sudo systemctl enable open-webui
</span></span><span style="display:flex;"><span>Created symlink /etc/systemd/system/multi-user.target.wants/open-webui.service → /etc/systemd/system/open-webui.service.
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ sudo systemctl status open-webui
</span></span><span style="display:flex;"><span>× open-webui.service - Open WebUI Service
</span></span><span style="display:flex;"><span>     Loaded: loaded <span style="color:#f92672">(</span>/etc/systemd/system/open-webui.service; enabled; vendor preset: enabled<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>     Active: failed <span style="color:#f92672">(</span>Result: exit-code<span style="color:#f92672">)</span> since Wed 2025-02-19 11:06:46 UTC; 15s ago
</span></span><span style="display:flex;"><span>   Main PID: <span style="color:#ae81ff">963411</span> <span style="color:#f92672">(</span>code<span style="color:#f92672">=</span>exited, status<span style="color:#f92672">=</span>203/EXEC<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>        CPU: 593us
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Feb <span style="color:#ae81ff">19</span> 11:06:46 ip-172-31-26-173 systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: open-webui.service: Scheduled restart job, restart counter is at 5.
</span></span><span style="display:flex;"><span>Feb <span style="color:#ae81ff">19</span> 11:06:46 ip-172-31-26-173 systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: Stopped Open WebUI Service.
</span></span><span style="display:flex;"><span>Feb <span style="color:#ae81ff">19</span> 11:06:46 ip-172-31-26-173 systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: open-webui.service: Start request repeated too quickly.
</span></span><span style="display:flex;"><span>Feb <span style="color:#ae81ff">19</span> 11:06:46 ip-172-31-26-173 systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: open-webui.service: Failed with result <span style="color:#e6db74">&#39;exit-code&#39;</span>.
</span></span><span style="display:flex;"><span>Feb <span style="color:#ae81ff">19</span> 11:06:46 ip-172-31-26-173 systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: Failed to start Open WebUI Service.
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ ^C
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ sudo vim /etc/systemd/system/open-webui.service
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ ls /home/ubuntu/.local/bin/
</span></span><span style="display:flex;"><span>nvisel  nvitop
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ whereis open-webui
</span></span><span style="display:flex;"><span>open-webui: /opt/dlami/nvme/miniconda3/bin/open-webui
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ ^C
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ sudo vim /etc/systemd/system/open-webui.service
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ ^C
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ sudo vim /etc/systemd/system/open-webui.service
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ cat /etc/systemd/system/open-webui.service
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>Unit<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Description<span style="color:#f92672">=</span>Open WebUI Service
</span></span><span style="display:flex;"><span>After<span style="color:#f92672">=</span>network.target
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>Service<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>ExecStart<span style="color:#f92672">=</span>/home/ubuntu/workspace/miniconda3/bin/open-webui serve --port <span style="color:#ae81ff">8180</span>
</span></span><span style="display:flex;"><span>User<span style="color:#f92672">=</span>ubuntu
</span></span><span style="display:flex;"><span>Restart<span style="color:#f92672">=</span>always
</span></span><span style="display:flex;"><span>Environment<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;OLLAMA_API_BASE_URL=http://localhost:11434&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>Install<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>WantedBy<span style="color:#f92672">=</span>multi-user.target
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ ^C
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ sudo systemctl daemon-reload
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ sudo systemctl start open-webui
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ sudo systemctl status  open-webui
</span></span><span style="display:flex;"><span>× open-webui.service - Open WebUI Service
</span></span><span style="display:flex;"><span>     Loaded: loaded <span style="color:#f92672">(</span>/etc/systemd/system/open-webui.service; enabled; vendor preset: enabled<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>     Active: failed <span style="color:#f92672">(</span>Result: exit-code<span style="color:#f92672">)</span> since Wed 2025-02-19 11:12:51 UTC; 3s ago
</span></span><span style="display:flex;"><span>    Process: <span style="color:#ae81ff">963720</span> ExecStart<span style="color:#f92672">=</span>/home/ubuntu/workspace/miniconda3/bin/open-webui serve --port <span style="color:#ae81ff">8180</span> <span style="color:#f92672">(</span>code<span style="color:#f92672">=</span>exited, status<span style="color:#f92672">=</span>1/FAILURE<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>   Main PID: <span style="color:#ae81ff">963720</span> <span style="color:#f92672">(</span>code<span style="color:#f92672">=</span>exited, status<span style="color:#f92672">=</span>1/FAILURE<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>        CPU: 421ms
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Feb <span style="color:#ae81ff">19</span> 11:12:51 ip-172-31-26-173 systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: open-webui.service: Scheduled restart job, restart counter is at 5.
</span></span><span style="display:flex;"><span>Feb <span style="color:#ae81ff">19</span> 11:12:51 ip-172-31-26-173 systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: Stopped Open WebUI Service.
</span></span><span style="display:flex;"><span>Feb <span style="color:#ae81ff">19</span> 11:12:51 ip-172-31-26-173 systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: open-webui.service: Start request repeated too quickly.
</span></span><span style="display:flex;"><span>Feb <span style="color:#ae81ff">19</span> 11:12:51 ip-172-31-26-173 systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: open-webui.service: Failed with result <span style="color:#e6db74">&#39;exit-code&#39;</span>.
</span></span><span style="display:flex;"><span>Feb <span style="color:#ae81ff">19</span> 11:12:51 ip-172-31-26-173 systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: Failed to start Open WebUI Service.
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ ^C
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ ^C
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ sudo vim /etc/systemd/system/open-webui.service
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ sudo systemctl daemon-reload
</span></span><span style="display:flex;"><span>sudo systemctl restart open-webui
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ sudo systemctl status  open-webui
</span></span><span style="display:flex;"><span>● open-webui.service - Open WebUI Service
</span></span><span style="display:flex;"><span>     Loaded: loaded <span style="color:#f92672">(</span>/etc/systemd/system/open-webui.service; enabled; vendor preset: enabled<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>     Active: active <span style="color:#f92672">(</span>running<span style="color:#f92672">)</span> since Wed 2025-02-19 11:15:38 UTC; 11s ago
</span></span><span style="display:flex;"><span>   Main PID: <span style="color:#ae81ff">963854</span> <span style="color:#f92672">(</span>open-webui<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>      Tasks: <span style="color:#ae81ff">39</span> <span style="color:#f92672">(</span>limit: 76292<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>     Memory: 584.3M
</span></span><span style="display:flex;"><span>        CPU: 11.899s
</span></span><span style="display:flex;"><span>     CGroup: /system.slice/open-webui.service
</span></span><span style="display:flex;"><span>             └─963854 /home/ubuntu/workspace/miniconda3/bin/python /opt/dlami/nvme/miniconda3/bin/open-webui serve --port <span style="color:#ae81ff">8180</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Feb <span style="color:#ae81ff">19</span> 11:15:46 ip-172-31-26-173 open-webui<span style="color:#f92672">[</span>963854<span style="color:#f92672">]</span>:  ╚═════╝ ╚═╝     ╚══════╝╚═╝  ╚═══╝     ╚══╝╚══╝ ╚══════╝╚═════╝  ╚═════╝ ╚═╝
</span></span><span style="display:flex;"><span>Feb <span style="color:#ae81ff">19</span> 11:15:46 ip-172-31-26-173 open-webui<span style="color:#f92672">[</span>963854<span style="color:#f92672">]</span>: v0.5.14 - building the best open-source AI user interface.
</span></span><span style="display:flex;"><span>Feb <span style="color:#ae81ff">19</span> 11:15:46 ip-172-31-26-173 open-webui<span style="color:#f92672">[</span>963854<span style="color:#f92672">]</span>: https://github.com/open-webui/open-webui
</span></span><span style="display:flex;"><span>Feb <span style="color:#ae81ff">19</span> 11:15:46 ip-172-31-26-173 open-webui<span style="color:#f92672">[</span>963854<span style="color:#f92672">]</span>: <span style="color:#f92672">[</span>148B blob data<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Feb <span style="color:#ae81ff">19</span> 11:15:47 ip-172-31-26-173 open-webui<span style="color:#f92672">[</span>963854<span style="color:#f92672">]</span>: INFO:     Started server process <span style="color:#f92672">[</span>963854<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Feb <span style="color:#ae81ff">19</span> 11:15:47 ip-172-31-26-173 open-webui<span style="color:#f92672">[</span>963854<span style="color:#f92672">]</span>: INFO:     Waiting <span style="color:#66d9ef">for</span> application startup.
</span></span><span style="display:flex;"><span>Feb <span style="color:#ae81ff">19</span> 11:15:47 ip-172-31-26-173 open-webui<span style="color:#f92672">[</span>963854<span style="color:#f92672">]</span>: INFO:     Application startup complete.
</span></span><span style="display:flex;"><span>Feb <span style="color:#ae81ff">19</span> 11:15:47 ip-172-31-26-173 open-webui<span style="color:#f92672">[</span>963854<span style="color:#f92672">]</span>: INFO:     Uvicorn running on http://0.0.0.0:8180 <span style="color:#f92672">(</span>Press CTRL+C to quit<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Feb <span style="color:#ae81ff">19</span> 11:15:47 ip-172-31-26-173 open-webui<span style="color:#f92672">[</span>963854<span style="color:#f92672">]</span>: INFO:     <span style="color:#f92672">(</span><span style="color:#e6db74">&#39;127.0.0.1&#39;</span>, 51680<span style="color:#f92672">)</span> - <span style="color:#e6db74">&#34;WebSocket /ws/socket.io/?EIO=4&amp;transport=websocket&#34;</span> <span style="color:#f92672">[</span>accepted<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Feb <span style="color:#ae81ff">19</span> 11:15:47 ip-172-31-26-173 open-webui<span style="color:#f92672">[</span>963854<span style="color:#f92672">]</span>: INFO:     connection open
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$ cat  /etc/systemd/system/open-webui.service
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>Unit<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Description<span style="color:#f92672">=</span>Open WebUI Service
</span></span><span style="display:flex;"><span>After<span style="color:#f92672">=</span>network.target
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>Service<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>ExecStart<span style="color:#f92672">=</span>/opt/dlami/nvme/miniconda3/bin/open-webui serve --port <span style="color:#ae81ff">8180</span>
</span></span><span style="display:flex;"><span>User<span style="color:#f92672">=</span>ubuntu
</span></span><span style="display:flex;"><span>Restart<span style="color:#f92672">=</span>always
</span></span><span style="display:flex;"><span>Environment<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;OLLAMA_API_BASE_URL=http://localhost:11434&#34;</span>
</span></span><span style="display:flex;"><span>Environment<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;PATH=/opt/dlami/nvme/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&#34;</span>
</span></span><span style="display:flex;"><span>WorkingDirectory<span style="color:#f92672">=</span>/home/ubuntu
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>Install<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>WantedBy<span style="color:#f92672">=</span>multi-user.target
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>base<span style="color:#f92672">)</span> ubuntu@ip-172-31-26-173:~$
</span></span></code></pre></div><h2 id="답변-1">답변 1<a hidden class="anchor" aria-hidden="true" href="#답변-1">#</a></h2>
<p>이 문제를 해결하기 위해 다음 단계를 따라해 보세요:</p>
<ol>
<li>
<p>open-webui.service 파일 내용 확인:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo cat /etc/systemd/system/open-webui.service
</span></span></code></pre></div><p>파일 내용을 확인하여 ExecStart 경로가 올바른지 확인하세요.</p>
</li>
<li>
<p>ExecStart 경로 수정:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo vim /etc/systemd/system/open-webui.service
</span></span></code></pre></div><p>ExecStart 줄을 다음과 같이 수정하세요:</p>
<pre tabindex="0"><code>ExecStart=/home/ubuntu/.local/bin/open-webui serve --port 8180
</code></pre></li>
<li>
<p>환경 변수 설정:
서비스 파일에 다음 줄을 추가하세요:</p>
<pre tabindex="0"><code>Environment=&#34;PATH=/home/ubuntu/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&#34;
</code></pre></li>
<li>
<p>서비스 파일 권한 확인:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo chmod <span style="color:#ae81ff">644</span> /etc/systemd/system/open-webui.service
</span></span></code></pre></div></li>
<li>
<p>systemd 재로드 및 서비스 재시작:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo systemctl daemon-reload
</span></span><span style="display:flex;"><span>sudo systemctl restart open-webui
</span></span></code></pre></div></li>
<li>
<p>서비스 상태 확인:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo systemctl status open-webui
</span></span></code></pre></div></li>
<li>
<p>로그 확인:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo journalctl -u open-webui -n <span style="color:#ae81ff">50</span> --no-pager
</span></span></code></pre></div></li>
</ol>
<p>이러한 단계를 수행한 후에도 문제가 지속되면, open-webui 실행 파일의 정확한 위치를 확인하고 필요한 경우 서비스 파일의 ExecStart 경로를 수정하세요. 또한, 사용자 권한과 필요한 환경 변수가 올바르게 설정되어 있는지 확인하세요.</p>
<hr>
<h2 id="답변-2">답변 2<a hidden class="anchor" aria-hidden="true" href="#답변-2">#</a></h2>
<p>open-webui 서비스가 시작되지 않는 문제를 해결하기 위해 다음 단계를 따라해 보세요:</p>
<ol>
<li>
<p>실행 파일 경로 확인:
<code>whereis open-webui</code> 명령어 결과에 따르면 open-webui의 실제 경로는 <code>/opt/dlami/nvme/miniconda3/bin/open-webui</code>입니다. 서비스 파일의 ExecStart 경로를 이에 맞게 수정해야 합니다.</p>
</li>
<li>
<p>서비스 파일 수정:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo vim /etc/systemd/system/open-webui.service
</span></span></code></pre></div><p>ExecStart 줄을 다음과 같이 수정하세요:</p>
<pre tabindex="0"><code>ExecStart=/opt/dlami/nvme/miniconda3/bin/open-webui serve --port 8180
</code></pre></li>
<li>
<p>환경 변수 설정:
서비스 파일에 다음 줄을 추가하세요:</p>
<pre tabindex="0"><code>Environment=&#34;PATH=/opt/dlami/nvme/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&#34;
</code></pre></li>
<li>
<p>작업 디렉토리 설정:
서비스 파일에 다음 줄을 추가하세요:</p>
<pre tabindex="0"><code>WorkingDirectory=/home/ubuntu
</code></pre></li>
<li>
<p>systemd 재로드 및 서비스 재시작:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo systemctl daemon-reload
</span></span><span style="display:flex;"><span>sudo systemctl restart open-webui
</span></span></code></pre></div></li>
<li>
<p>서비스 상태 확인:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo systemctl status open-webui
</span></span></code></pre></div></li>
<li>
<p>로그 확인:
문제가 지속되면 다음 명령어로 자세한 로그를 확인하세요:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo journalctl -u open-webui -n <span style="color:#ae81ff">50</span> --no-pager
</span></span></code></pre></div></li>
</ol>
<p>이러한 변경 후에도 문제가 계속되면, open-webui 명령어를 직접 실행해 보고 오류 메시지를 확인하세요:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>/opt/dlami/nvme/miniconda3/bin/open-webui serve --port <span style="color:#ae81ff">8180</span>
</span></span></code></pre></div><p>이 과정에서 나타나는 오류 메시지를 바탕으로 추가적인 문제 해결이 가능할 것입니다.</p>
<hr>
<h1 id="pip를-통한-설치---chatgpt---위에것이-되어서-테스트-안해봄">Pip를 통한 설치 - chatgpt - 위에것이 되어서 테스트 안해봄<a hidden class="anchor" aria-hidden="true" href="#pip를-통한-설치---chatgpt---위에것이-되어서-테스트-안해봄">#</a></h1>
<p>EC2 Ubuntu 인스턴스에서 <code>pip</code>를 사용하여 OpenWebUI를 설치하고, 8180 포트에서 실행하는 방법을 안내해 드리겠습니다. 또한, <code>ubuntu</code> 계정으로 Ollama가 이미 실행 중인 상황을 고려하여, OpenWebUI와 Ollama를 연동하는 방법도 함께 설명하겠습니다.</p>
<h3 id="1-openwebui-설치-및-설정">1. OpenWebUI 설치 및 설정<a hidden class="anchor" aria-hidden="true" href="#1-openwebui-설치-및-설정">#</a></h3>
<p><strong>1. Python 및 pip 업데이트:</strong></p>
<p>먼저, 시스템의 Python과 pip를 최신 버전으로 업데이트합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt update
</span></span><span style="display:flex;"><span>sudo apt install python3 python3-pip
</span></span></code></pre></div><p><strong>2. 가상 환경 생성 및 활성화:</strong></p>
<p>프로젝트를 위한 가상 환경을 생성하고 활성화합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python3 -m venv openwebui_env
</span></span><span style="display:flex;"><span>source openwebui_env/bin/activate
</span></span></code></pre></div><p><strong>3. OpenWebUI 설치:</strong></p>
<p>가상 환경 내에서 OpenWebUI를 설치합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip install openwebui
</span></span></code></pre></div><p><strong>4. OpenWebUI 설정 파일 생성 및 포트 변경:</strong></p>
<p>설정 파일을 생성하여 OpenWebUI가 8180 포트에서 실행되도록 설정합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkdir -p ~/.openwebui
</span></span><span style="display:flex;"><span>nano ~/.openwebui/config.yaml
</span></span></code></pre></div><p><code>config.yaml</code> 파일에 다음 내용을 추가합니다:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">server</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">host</span>: <span style="color:#ae81ff">0.0.0.0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">port</span>: <span style="color:#ae81ff">8180</span>
</span></span></code></pre></div><p>파일을 저장하고 닫습니다.</p>
<p><strong>5. OpenWebUI 실행:</strong></p>
<p>설정을 완료한 후, OpenWebUI를 실행합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>openwebui serve
</span></span></code></pre></div><p>이제 OpenWebUI는 8180 포트에서 실행됩니다.</p>
<h3 id="2-openwebui와-ollama-연동">2. OpenWebUI와 Ollama 연동<a hidden class="anchor" aria-hidden="true" href="#2-openwebui와-ollama-연동">#</a></h3>
<p>이미 <code>ubuntu</code> 계정으로 Ollama가 실행 중이라면, OpenWebUI와 Ollama를 연동하여 사용할 수 있습니다.</p>
<p><strong>1. Ollama의 API 엔드포인트 확인:</strong></p>
<p>Ollama가 제공하는 API의 엔드포인트를 확인합니다. 일반적으로 <code>http://localhost:11434</code>와 같은 형태입니다.</p>
<p><strong>2. OpenWebUI 설정 파일 수정:</strong></p>
<p>앞서 생성한 <code>~/.openwebui/config.yaml</code> 파일을 열어 Ollama와의 연동을 설정합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nano ~/.openwebui/config.yaml
</span></span></code></pre></div><p>파일에 다음 내용을 추가하거나 수정합니다:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">backend</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">api_url</span>: <span style="color:#ae81ff">http://localhost:11434</span>
</span></span></code></pre></div><p>파일을 저장하고 닫습니다.</p>
<p><strong>3. OpenWebUI 재시작:</strong></p>
<p>설정 변경 사항을 적용하기 위해 OpenWebUI를 재시작합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pkill -f openwebui
</span></span><span style="display:flex;"><span>openwebui serve
</span></span></code></pre></div><p>이제 OpenWebUI는 Ollama와 연동되어 8180 포트에서 실행됩니다.</p>
<p><strong>참고:</strong> 보안을 위해 EC2 인스턴스의 보안 그룹에서 8180 포트에 대한 인바운드 규칙을 설정하여 필요한 IP에서만 접근 가능하도록 제한하는 것이 좋습니다.</p>
<p>위의 절차를 따라 OpenWebUI를 설치하고 Ollama와 연동하여 8180 포트에서 실행할 수 있습니다.</p>
<hr>
<h1 id="ec2-인스턴스에서-public-ip와-private-ip를-얻는-cli-명령어">EC2 인스턴스에서 <strong>Public IP</strong>와 <strong>Private IP</strong>를 얻는 CLI 명령어<a hidden class="anchor" aria-hidden="true" href="#ec2-인스턴스에서-public-ip와-private-ip를-얻는-cli-명령어">#</a></h1>
<p>EC2 인스턴스에서 <strong>Public IP</strong>와 <strong>Private IP</strong>를 얻는 CLI 명령어는 다음과 같습니다.</p>
<h3 id="1-public-ip-공인-ip-조회">1. <strong>Public IP (공인 IP) 조회</strong><a hidden class="anchor" aria-hidden="true" href="#1-public-ip-공인-ip-조회">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>curl -s http://169.254.169.254/latest/meta-data/public-ipv4
</span></span></code></pre></div><ul>
<li>인스턴스에 퍼블릭 IP가 할당되지 않았다면 빈 값이 반환됩니다.</li>
</ul>
<h3 id="2-private-ip-사설-ip-조회">2. <strong>Private IP (사설 IP) 조회</strong><a hidden class="anchor" aria-hidden="true" href="#2-private-ip-사설-ip-조회">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>curl -s http://169.254.169.254/latest/meta-data/local-ipv4
</span></span></code></pre></div><ul>
<li>인스턴스의 내부 네트워크 IP 주소를 가져옵니다.</li>
</ul>
<h3 id="3-public-및-private-ip-함께-출력">3. <strong>Public 및 Private IP 함께 출력</strong><a hidden class="anchor" aria-hidden="true" href="#3-public-및-private-ip-함께-출력">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;Public IP: </span><span style="color:#66d9ef">$(</span>curl -s http://169.254.169.254/latest/meta-data/public-ipv4<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;Private IP: </span><span style="color:#66d9ef">$(</span>curl -s http://169.254.169.254/latest/meta-data/local-ipv4<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
</span></span></code></pre></div><p>이 명령어들은 AWS의 **인스턴스 메타데이터 서비스(IMDS)**를 사용하여 EC2 인스턴스에서 직접 실행할 수 있습니다.</p>
<hr>
<h1 id="ec2-ubuntu-인스턴스에서-public-ip를-확인하는-방법">EC2 Ubuntu 인스턴스에서 public IP를 확인하는 방법<a hidden class="anchor" aria-hidden="true" href="#ec2-ubuntu-인스턴스에서-public-ip를-확인하는-방법">#</a></h1>
<p>EC2 Ubuntu 인스턴스에서 public IP를 확인하는 방법은 다음과 같습니다:</p>
<h2 id="1-메타데이터-서비스-사용">1. 메타데이터 서비스 사용<a hidden class="anchor" aria-hidden="true" href="#1-메타데이터-서비스-사용">#</a></h2>
<p>EC2 인스턴스 내부에서 다음 명령어를 실행합니다:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl http://169.254.169.254/latest/meta-data/public-ipv4
</span></span></code></pre></div><p>이 명령어는 인스턴스의 public IPv4 주소를 반환합니다.</p>
<h2 id="2-aws-cli-사용">2. AWS CLI 사용<a hidden class="anchor" aria-hidden="true" href="#2-aws-cli-사용">#</a></h2>
<p>AWS CLI가 설치되어 있고 적절한 권한이 설정되어 있다면 다음 명령어를 사용할 수 있습니다:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>aws ec2 describe-instances --query <span style="color:#e6db74">&#39;Reservations[*].Instances[*].[InstanceId, PublicIpAddress]&#39;</span> --output table
</span></span></code></pre></div><p>이 명령어는 모든 EC2 인스턴스의 ID와 해당 public IP 주소를 테이블 형식으로 보여줍니다.</p>
<h2 id="3-외부-서비스-사용">3. 외부 서비스 사용<a hidden class="anchor" aria-hidden="true" href="#3-외부-서비스-사용">#</a></h2>
<p>인터넷에 연결된 EC2 인스턴스에서는 다음과 같은 외부 서비스를 사용할 수 있습니다:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl https://ipinfo.io/ip
</span></span></code></pre></div><p>또는</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl https://checkip.amazonaws.com
</span></span></code></pre></div><p>이 방법들은 NAT 뒤에 있는 인스턴스에서도 public IP를 확인할 수 있습니다.</p>
<h2 id="4-ec2metadata-도구-사용">4. ec2metadata 도구 사용<a hidden class="anchor" aria-hidden="true" href="#4-ec2metadata-도구-사용">#</a></h2>
<p>일부 EC2 Linux 이미지에는 ec2metadata 도구가 사전 설치되어 있습니다. 이 도구를 사용하려면:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ec2metadata --public-ipv4
</span></span></code></pre></div><p>이 명령어로 현재 VM의 public IP를 조회할 수 있습니다.</p>
<p>이러한 방법들 중 하나를 선택하여 EC2 Ubuntu 인스턴스의 public IP를 쉽게 확인할 수 있습니다[1][3][4][5].</p>
<hr>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/portfolio/tags/openwebui/">OpenWebUI</a></li>
      <li><a href="http://localhost:1313/portfolio/tags/ai/">AI</a></li>
      <li><a href="http://localhost:1313/portfolio/tags/ollama/">Ollama</a></li>
      <li><a href="http://localhost:1313/portfolio/tags/ec2/">EC2</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/portfolio/">RyanLabs</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
